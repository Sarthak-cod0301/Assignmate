{"ast":null,"code":"import _objectSpread from\"D:/MERN Stack/Project/assignamate/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Form,Button,Card,Alert,Container,Row,Col}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../utils/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:'',role:'student',studentId:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{register}=useAuth();const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();if(formData.password!==formData.confirmPassword){return setError('Passwords do not match');}try{setError('');setLoading(true);const userData={name:formData.name,email:formData.email,password:formData.password,role:formData.role,studentId:formData.role==='student'?formData.studentId:undefined};await register(userData);navigate('/');}catch(error){setError(error.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:6,lg:4,children:/*#__PURE__*/_jsx(Card,{className:\"mt-5\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Role\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"role\",value:formData.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"teacher\",children:\"Teacher\"})]})]}),formData.role==='student'&&/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Student ID\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"studentId\",value:formData.studentId,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(Button,{disabled:loading,className:\"w-100\",type:\"submit\",children:loading?'Creating Account...':'Sign Up'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Already have an account? Log in\"})})]})})})})});};export default Register;","map":{"version":3,"names":["React","useState","Form","Button","Card","Alert","Container","Row","Col","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","password","confirmPassword","role","studentId","error","setError","loading","setLoading","register","navigate","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","userData","undefined","message","children","className","md","lg","Body","variant","onSubmit","Group","Label","Control","type","onChange","required","Select","disabled","to"],"sources":["D:/MERN Stack/Project/assignamate/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Button, Card, Alert, Container, Row, Col } from 'react-bootstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../utils/AuthContext';\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    role: 'student',\r\n    studentId: '',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  const { register } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (formData.password !== formData.confirmPassword) {\r\n      return setError('Passwords do not match');\r\n    }\r\n\r\n    try {\r\n      setError('');\r\n      setLoading(true);\r\n      \r\n      const userData = {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        password: formData.password,\r\n        role: formData.role,\r\n        studentId: formData.role === 'student' ? formData.studentId : undefined,\r\n      };\r\n\r\n      await register(userData);\r\n      navigate('/');\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"justify-content-center\">\r\n        <Col md={6} lg={4}>\r\n          <Card className=\"mt-5\">\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Role</Form.Label>\r\n                  <Form.Select\r\n                    name=\"role\"\r\n                    value={formData.role}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"student\">Student</option>\r\n                    <option value=\"teacher\">Teacher</option>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n                {formData.role === 'student' && (\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Student ID</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"studentId\"\r\n                      value={formData.studentId}\r\n                      onChange={handleChange}\r\n                      required\r\n                    />\r\n                  </Form.Group>\r\n                )}\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Confirm Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    name=\"confirmPassword\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Button \r\n                  disabled={loading} \r\n                  className=\"w-100\" \r\n                  type=\"submit\"\r\n                >\r\n                  {loading ? 'Creating Account...' : 'Sign Up'}\r\n                </Button>\r\n              </Form>\r\n              <div className=\"text-center mt-3\">\r\n                <Link to=\"/login\">Already have an account? Log in</Link>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}